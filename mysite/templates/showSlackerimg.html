<!DOCTYPE html>
<html class="" lang="zh-CN">
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="UTF-8">
  <!--[if lt IE 9]>
  <script src="https://www.mom1.cn/wp-content/themes/begin/js/html5.js"></script>
  <script src="https://www.mom1.cn/wp-content/themes/begin/js/css3-mediaqueries.js"></script>
  <![endif]-->
  <link rel="stylesheet" id="begin-style-css" href="/static/css/css/style.css" type="text/css" media="all">

    <style>
        *{ margin:0; padding: 0; list-style: none; }
        #list img{width:272px; height: 180px;}

 *{
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    ul{
      overflow: hidden;
      list-style: none;
    }
    li{
      float: left;
      width: 272px;
      height: 180px;
      padding: 10px;
    }
    li img{
      display: inline-block;
      width: 272px;
      height: 180px;
    }

    </style>

</head>

<body>
<div id="page" class="hfeed site">
  <div id="content" class="site-content">
    <section id="picture" class="content-area">
      <main id="main" class="site-main" role="main">
        <h3 class="grid-cat wow fadeInUp" data-wow-delay="0.3s">
          <a href="#" _hover-ignore="1">
            <i class="be be-picture"></i>美图
          </a>
        </h3>
<ul id="list">
        <div class="clear"></div>
        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/240x200_1.jpg" alt="美图H"></li></a>
              </a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图H1</a></h3>  
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/240x200_2.jpg" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图H2</a></h3>  
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/240x200_3.jpg" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图H3</a></h3>  
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/240x200_4.jpg" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图H4</a></h3>  
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/240x200_5.jpg" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图H5</a></h3>  
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/240x200_6.jpg" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图H6</a></h3>  
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/240x200_7.jpg" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图H7</a></h3>  
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/240x200_1.png" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图</a></h3>  
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/240x200_2.png" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图2 240x200</a></h3> 
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/240x200_3.png" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图3 240x200</a></h3> 
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/240x200_4.png" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图4 240x200</a></h3> 
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/240x200_5.png" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图5 240x200</a></h3> 
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/240x200_6.png" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图6 240x200</a></h3> 
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/240x200_7.png" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图7 240x200</a></h3> 
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/240x200_8.png" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图8 240x200</a></h3> 
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/240x200_9.png" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图9 240x200</a></h3> 
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/1.jpg" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图1 240x200</a></h3> 
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/2.jpg" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图2 240x200</a></h3> 
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/3.jpg" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图3 240x200</a></h3> 
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/4.jpg" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图4 240x200</a></h3> 
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/5.jpg" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图5 240x200</a></h3> 
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/6.jpg" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图6 240x200</a></h3> 
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/7.jpg" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图7 240x200</a></h3> 
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/8.jpg" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图8 240x200</a></h3> 
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/9.jpg" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图9 240x200</a></h3> 
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/10.jpg" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图10 240x200</a></h3> 
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/11.jpg" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图11 240x200</a></h3> 
          </div>
        </article>

        <article class="post-5340 picture type-picture status-publish hentry gallery-img rrz">
          <div class="picture-box wow fadeInUp" data-wow-delay="0.3s">
            <figure class="picture-img">
              <a href="#">
              <li><img data-src="/static/img/12.jpg" alt="美图H"></li></a>
            </figure>
            <h3 class="picture-title"><a href="#" rel="bookmark">美图12 240x200</a></h3> 
          </div>
        </article>







</ul>


      </main>
      <div class="clear"></div>
    </section>
  </div><!-- .site-content -->

<div>


<script>
  // window绑定滚动事件
  window.addEventListener('scroll',function(){
    // 遍历所有的img标签
    Array.prototype.slice.apply(document.getElementsByTagName('li')).forEach((li)=>{
      let img=li.getElementsByTagName('img')[0];
      // 判断当前img是否出现在了视野中
      // 判断当前img是否被加载过了
      if(checkShow(img) && !isLoaded(img)){
        loadImg(img);
      }
    })
  });

  // 判断img是否出现浏览器视野中
  function checkShow(img) {
    let scrollTop=document.documentElement.scrollTop; // 页面向上滚动的高度
    let windowHeight=window.innerHeight; //浏览器自身高度
    let offsetTop=img.offsetTop; //目标标签相对于document的高度
    return (offsetTop > scrollTop && offsetTop <(windowHeight + scrollTop));
  }

  // 判断是否已经加载过
  function isLoaded(img) {
    return img.getAttribute('src')===img.getAttribute('data-src');
  }

  // 加载图片
  function loadImg(img) {
   img.setAttribute('src',img.getAttribute('data-src'));
  }

  let timer;
  window.addEventListener('scroll',function(){
    console.log('scroll')
    if(timer){
      clearTimeout(timer)
    }
    timer=setInterval(function(){
      console.log('lazyRenderImg...');
      // 遍历所有的img标签
      lazyRenderImg();
    },300);
      
  });

  function lazyRenderImg(){
    Array.prototype.slice.apply(document.getElementsByTagName('li')).forEach((li)=>{
      let img=li.getElementsByTagName('img')[0];
      // 判断当前img是否出现在了视野中
      // 判断当前img是否被加载过了
      if(checkShow(img) && !isLoaded(img)){
        loadImg(img);
      }
    })
  }

  // 第一次进页面加载处于视野中的图片
  lazyRenderImg();

  
</script>
</body>
</html>